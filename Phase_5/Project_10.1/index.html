<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sorting Data</title>

    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 p-8 min-h-screen font-sans">

    <div class="max-w-4xl mx-auto p-8 bg-white shadow-xl rounded-xl overflow-hidden">
        <h1 class="text-3xl text-bold text-purple-800">User Data</h1>
        <table class="min-w-full divide-y divide-gray-200">
            <thead class="text-purple-600">
                <tr>
                    <th
                        class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider rounded-tl-xl cursor-pointer">
                        id</th>
                    <th
                        class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider rounded-tl-xl cursor-pointer">
                        name</th>
                    <th
                        class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider rounded-tl-xl cursor-pointer">
                        age</th>
                    <th
                        class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider rounded-tl-xl cursor-pointer">
                        city</th>
                    <th
                        class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider rounded-tl-xl cursor-pointer">
                        salary</th>
                </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
            </tbody>
        </table>
    </div>

    <script>
        // Basic Data Table with Sorting: Display data from an array of objects in an HTML table; implement column sorting.
        const userData = [
            { id: 101, name: "Alice Johnson", age: 28, city: "New York", salary: 65000 },
            { id: 102, name: "Bob Smith", age: 35, city: "Los Angeles", salary: 78000 },
            { id: 103, name: "Charlie Brown", age: 22, city: "Chicago", salary: 52000 },
            { id: 104, name: "Diana Prince", age: 41, city: "Miami", salary: 92000 },
            { id: 105, name: "Eve Adams", age: 30, city: "New York", salary: 68000 },
            { id: 106, name: "Frank Miller", age: 45, city: "Chicago", salary: 85000 },
            { id: 107, name: "Grace Hall", age: 29, city: "Los Angeles", salary: 71000 },
            { id: 108, name: "Henry King", age: 33, city: "Miami", salary: 60000 }
        ];

        function renderTable() {
            const tableBody = document.querySelector('tbody');
            userData.forEach(user => {
                const tableRow = document.createElement('tr');
                tableRow.classList.add('hover:bg-gray-200', 'transition', 'duration-150', 'ease-in-out');

                const properties = ['id', 'name', 'age', 'city', 'salary'];
                properties.forEach(prop => {
                    const cell = document.createElement('td');
                    cell.classList.add('px-6', 'py-4', 'whitespace-nowrap', 'text-sm', 'text-gray-900');
                    let value = user[prop];
                    if (prop === 'salary') {
                        value = `$${value.toLocaleString()}`;

                    }

                    cell.textContent = value;

                    tableRow.appendChild(cell);
                })

                tableBody.appendChild(tableRow);
            });

        }

        let currentSortKey = null;
        let isAscending = false;

        function sortData(key) {

            if (currentSortKey === key) {
                isAscending = !isAscending;
            } else {
                currentSortKey = key;
                isAscending = true;
            }

            userData.sort((a, b) => {
                const aValue = a[key];
                const bValue = b[key];
                let comparison = 0;


                if (typeof aValue === 'string') {
                    comparison = aValue.localeCompare(bValue);
                }

                else if (typeof aValue === 'number') {
                    comparison = aValue - bValue;
                }

                return isAscending ? comparison : comparison * -1;
            });


            renderTable(userData);

        }

        sortData('id'); //for now sort is done using this method 
        // FUTURE GOAL:- 
        // make button for each header to sort on the basis of respective key choosed.
    </script>
</body>

</html>